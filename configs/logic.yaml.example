# Example configuration file for hand-object inspection detection
# Bu dosyayı kopyalayarak logic.yaml olarak kaydedin ve kendi ihtiyaçlarınıza göre düzenleyin

# Video input configuration
video:
  source: 0                    # Webcam için 0, video dosyası için "path/to/video.mp4", RTSP için "rtsp://admin:HeysemAI246@192.168.150.59"
  fps: 30                      # Hedeflenen FPS
  resolution: [640, 480]       # Çözünürlük [width, height]
  buffer_size: 1               # Frame buffer boyutu
  skip_frames: 0               # Atlanan frame sayısı (performans için)

# Hand detection settings (MediaPipe)
hands:
  max_num_hands: 2             # Maksimum tespit edilecek el sayısı
  min_detection_confidence: 0.7 # Minimum tespit güven skoru
  min_tracking_confidence: 0.5  # Minimum tracking güven skoru
  model_complexity: 1          # Model karmaşıklığı (0: en hızlı, 2: en doğru)
  static_image_mode: false     # Statik görüntü modu
  
# Object detection settings (YOLO)
objects:
  model_path: "models/yolov8n.pt"  # YOLO model dosyası
  confidence_threshold: 0.5    # Minimum nesne tespit güveni
  iou_threshold: 0.45         # NMS IoU eşiği
  max_det: 100                # Maksimum tespit sayısı
  device: "auto"              # "cpu", "cuda:0", "auto"
  half: false                 # FP16 inference (GPU)
  
# Motion analysis configuration
motion:
  method: "farneback"         # "farneback", "dis", "lucas_kanade"
  scale: 0.5                  # Frame ölçekleme (performans için)
  levels: 3                   # Piramit seviye sayısı
  winsize: 15                 # Pencere boyutu
  iterations: 3               # İterasyon sayısı
  poly_n: 5                   # Polinom boyutu (Farneback)
  poly_sigma: 1.2             # Polinom sigma (Farneback)
  use_gpu: false              # GPU kullanımı (deneysel)
  
# In-hand logic configuration
inhand:
  matching_strategy: "center_iou"  # "center_distance", "center_iou", "bbox_iou"
  iou_threshold: 0.3          # IoU eşleştirme eşiği
  match_threshold: 50.0       # Mesafe eşleştirme eşiği (piksel)
  max_distance: 100.0         # Maksimum eşleştirme mesafesi
  min_confidence: 0.5         # Minimum güven skoru
  tracking_history: 30        # Tracking geçmişi (frame)
  
# Finite State Machine configuration
fsm:
  start_threshold: 2.0        # İnceleme başlangıç hareket eşiği
  stop_threshold: 1.0         # İnceleme bitiş hareket eşiği
  min_frames_start: 3         # Başlangıç için minimum frame
  min_frames_stop: 3          # Bitiş için minimum frame
  grace_frames: 5             # Tespit kaybı toleransı
  confidence_threshold: 0.7   # FSM için minimum güven
  hysteresis_enabled: true    # Histerezis kullanımı
  
# Tracking configuration
tracking:
  max_disappeared: 30         # Maksimum kayıp frame sayısı
  max_distance: 50            # Maksimum tracking mesafesi
  tracker_type: "centroid"    # "centroid", "kalman", "optical_flow"
  
# Event logging configuration
logging:
  enabled: true
  format: "jsonl"             # "jsonl", "csv", "both"
  output_dir: "data/events"   # Event kayıt dizini
  max_file_size: "10MB"       # Maksimum dosya boyutu
  backup_count: 5             # Backup dosya sayısı
  include_frames: false       # Frame'leri kaydet
  
# Visualization configuration
visualization:
  enabled: true
  show_hands: true            # El çizimini göster
  show_objects: true          # Nesne çizimini göster
  show_flow: false            # Optik akış gösterimi
  show_tracks: true           # Track ID'lerini göster
  show_fps: true              # FPS gösterimi
  show_stats: true            # İstatistikleri göster
  
  # Colors (BGR format)
  colors:
    hand_bbox: [0, 255, 0]    # Yeşil
    object_bbox: [255, 0, 0]  # Mavi
    track_line: [0, 255, 255] # Sarı
    text: [255, 255, 255]     # Beyaz
    
  # Font settings
  font_scale: 0.6
  font_thickness: 2
  line_thickness: 2
  
# Performance optimization
performance:
  multiprocessing: false      # Çoklu işlem kullanımı
  num_workers: 2              # Worker sayısı
  queue_size: 10              # Frame kuyruk boyutu
  memory_limit: "2GB"         # Bellek sınırı
  
# Debug configuration
debug:
  enabled: false
  save_debug_frames: false    # Debug frame'lerini kaydet
  debug_dir: "data/debug"     # Debug dizini
  log_level: "INFO"           # "DEBUG", "INFO", "WARNING", "ERROR"
  profile_performance: false   # Performans profilleme
  
# API configuration (FastAPI için)
api:
  host: "0.0.0.0"
  port: 8000
  workers: 1
  reload: false
  log_level: "info"
  cors_origins: ["*"]
  max_request_size: "10MB"
  timeout: 30
